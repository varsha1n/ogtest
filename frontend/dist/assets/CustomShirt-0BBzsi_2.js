import{r as c,j as s}from"./index-Rmbth4Cg.js";import{a as T,s as e}from"./axios-ZbXFLSnU.js";function y(){var x,j;const[l,N]=c.useState({Collar:"c5.png",Pocket:"p1.png",Sleeve:"s1.png",Button:"b1.jpg",Back:"ba1.png"}),[o,C]=c.useState("pattern1.png"),[r,b]=c.useState(null),[m,S]=c.useState(null),[p,d]=c.useState(!1),[v,B]=c.useState(!1),f=[{name:"Collar",subOptions:["c1.png","c2.png","c3.png","c4.png","c5.png","c6.png"]},{name:"Pocket",subOptions:["p1.png","p2.png"]},{name:"Sleeve",subOptions:["s1.png","s2.png"]},{name:"Button",subOptions:["b1.jpg","b2.jpg"]},{name:"Back",subOptions:["ba1.png","ba4.png","ba2.png","ba3.png"]}],u=[{name:"pattern1.png",cloth:"Bold Twill Shirt - White",color:"White",price:"$20"},{name:"pattern2.png",cloth:"Cotton Oxford Shirt - Blue",color:"Blue",price:"$25"},{name:"pattern3.png",cloth:"Wrinkle-Free Shirt - Green",color:"Green",price:"$30"},{name:"pattern4.png",cloth:"Lavender Herringbone Shirt",color:"Lavender",price:"$35"},{name:"pattern6.png",cloth:"Dark Blue Pinstriped Shirt",color:"Blue",price:"$40"},{name:"pattern7.png",cloth:"White Shirt",color:"White",price:"$40"}];c.useEffect(()=>{i(o,l)},[]);const k=t=>{C(t),i(t,l)},I=(t,a)=>{const n={...l,[t]:a};N(n),o&&i(o,n)},i=(t,a)=>{T.post("http://127.0.0.1:5000/designs",{pattern:t,designs:a}).then(n=>{const w=`data:image/png;base64,${btoa(n.data.blend_image)}`,W=`data:image/png;base64,${btoa(n.data.back_image)}`;b(w),S(W)}).catch(n=>{console.error("Error sending request to server:",n)})},$=()=>{d(!0)},P=()=>{const t=document.querySelector(`.${e.popupContainer}`);t&&t.classList.add(e.exiting),setTimeout(()=>{d(!1)},500)},h=()=>u.find(t=>t.name===o),g=()=>{B(t=>!t)};return s.jsxs("div",{className:e.main,children:[s.jsxs("div",{className:e.leftColumn,children:[s.jsx("div",{className:e.patternContainer,children:u.map(t=>s.jsxs("div",{className:e.patternItem,onClick:()=>k(t.name),children:[s.jsx("img",{src:`/images_show/${t.name}`,alt:t.name,className:`${e.patternImage} ${o===t.name?e.selected:""}`}),s.jsxs("div",{className:e.patternInfo,children:[s.jsx("p",{className:e.color,children:t.color}),s.jsx("p",{className:e.price,children:t.price})]})]},t.name))}),s.jsx("div",{className:e.customContainer,children:s.jsx("button",{className:e.customizeButton,onClick:$,children:s.jsx("span",{className:e.textContainer,children:s.jsx("span",{className:e.text,children:"Customize"})})})})]}),s.jsxs("div",{className:e.rightColumn,children:[s.jsx("div",{className:e.outputContainer,children:s.jsx("img",{src:v&&m?m:r||"",alt:"Result",className:e.outputImage,style:{display:r?"block":"none"}})}),s.jsx("div",{className:e.infoContainer,children:s.jsxs("div",{className:e.patternInfoContainer,children:[s.jsxs("div",{className:e.selectedPatternInfo,children:[s.jsx("h2",{className:e.customtext,children:"Your Custom Shirt"}),s.jsx("p",{className:e.clothtext,children:((x=h())==null?void 0:x.cloth)||"Formal Shirt - White"}),s.jsx("p",{className:e.pricetext,children:((j=h())==null?void 0:j.price)||"$25"})]}),s.jsx("button",{className:e.addToCartButton,children:"Add to Cart"}),s.jsxs("div",{className:e.arrowButtons,children:[s.jsx("button",{className:e.leftArrowButton,onClick:g,children:"←"}),s.jsx("button",{className:e.rightArrowButton,onClick:g,children:"→"})]})]})})]}),p&&s.jsxs("div",{className:`${e.popupContainer} ${p?"":e.exiting}`,children:[s.jsx("h1",{className:e.popupTitle,children:"Customize Your Shirt"}),s.jsx("button",{className:e.closeButton,onClick:P,children:"×"}),s.jsx("div",{className:e.optionsContainer,children:f.map(t=>s.jsxs("div",{className:e.optionSection,children:[s.jsx("h2",{className:e.optionTitle,children:t.name}),s.jsx("div",{className:e.imageContainer,children:t.subOptions.map(a=>s.jsx("div",{className:`${e.imageWrapper} ${l[t.name]===a?e.selected:""}`,onClick:()=>I(t.name,a),children:s.jsx("img",{src:`/images_show/${a}`,alt:a,className:e.optionimage})},a))})]},t.name))})]})]})}export{y as default};
