import{r as c,j as s}from"./index-S9ZFpKWr.js";import{s as e,a as W}from"./axios-ZbXFLSnU.js";function E(){var x,j;const[i,f]=c.useState({Fit:"pm1.png",Fastenings:"pf1.png",Cuffs:"pc1.png",Frontpockets:"pfp1.png",Backpockets:"pbp1.png"}),[o,C]=c.useState("pattern4.png"),[p,b]=c.useState(null),[r,k]=c.useState(null),[m,d]=c.useState(!1),[S,v]=c.useState(!1),B=[{name:"Fit",subOptions:["pm1.png","pm2.png"]},{name:"Fastenings",subOptions:["pf1.png","pf2.png","pf3.png","pf4.png"]},{name:"Cuffs",subOptions:["pc1.png","pc2.png"]},{name:"Frontpockets",subOptions:["pfp1.png","pfp2.png"]},{name:"Backpockets",subOptions:["pbp1.png","pbp2.png","pbp3.png","pbp4.png"]}],u=[{name:"pattern1.png",cloth:"Bold Twill Shirt - White",color:"White",price:"$20"},{name:"pattern2.png",cloth:"Cotton Oxford Shirt - Blue",color:"Blue",price:"$25"},{name:"pattern3.png",cloth:"Wrinkle-Free Shirt - Green",color:"Green",price:"$30"},{name:"pattern4.png",cloth:"Lavender Herringbone Shirt",color:"Lavender",price:"$35"},{name:"pattern6.png",cloth:"Dark Blue Pinstriped Shirt",color:"Blue",price:"$40"},{name:"pattern7.png",cloth:"White Shirt",color:"White",price:"$40"}],I=t=>{C(t),l(t,i)},$=(t,a)=>{const n={...i,[t]:a};f(n),o&&l(o,n)},l=(t,a)=>{W.post("http://127.0.0.1:5000/pants",{pattern:t,designs:a}).then(n=>{const N=`data:image/png;base64,${btoa(n.data.blend_image)}`,F=`data:image/png;base64,${btoa(n.data.back_image)}`;console.log(N),b(N),k(F)}).catch(n=>{console.error("Error sending request to server:",n)})};c.useEffect(()=>{l(o,i)},[]);const P=()=>{d(!0)},w=()=>{const t=document.querySelector(`.${e.popupContainer}`);t&&t.classList.add(e.exiting),setTimeout(()=>{d(!1)},500)},h=()=>u.find(t=>t.name===o),g=()=>{v(t=>!t)};return s.jsxs("div",{className:e.main,children:[s.jsxs("div",{className:e.leftColumn,children:[s.jsx("div",{className:e.patternContainer,children:u.map(t=>s.jsxs("div",{className:e.patternItem,onClick:()=>I(t.name),children:[s.jsx("img",{src:`/images_show/${t.name}`,alt:t.name,className:`${e.patternImage} ${o===t.name?e.selected:""}`}),s.jsxs("div",{className:e.patternInfo,children:[s.jsx("p",{className:e.color,children:t.color}),s.jsx("p",{className:e.price,children:t.price})]})]},t.name))}),s.jsx("div",{className:e.customContainer,children:s.jsx("button",{className:e.customizeButton,onClick:P,children:s.jsx("span",{className:e.textContainer,children:s.jsx("span",{className:e.text,children:"Customize"})})})})]}),s.jsxs("div",{className:e.rightColumn,children:[s.jsx("div",{className:e.outputContainer,style:{width:"570px",height:"650px"},children:s.jsx("img",{src:S&&r?r:p||"",alt:"Result",className:e.outputImagepants,style:{display:p?"block":"none",width:"auto",height:"90%",marginLeft:0}})}),s.jsx("div",{className:e.infoContainer,children:s.jsxs("div",{className:e.patternInfoContainer,children:[s.jsxs("div",{className:e.selectedPatternInfo,children:[s.jsx("h2",{className:e.customtext,children:"Your Custom Pants"}),s.jsx("p",{className:e.clothtext,children:((x=h())==null?void 0:x.cloth)||"Formal Shirt - White"}),s.jsx("p",{className:e.pricetext,children:((j=h())==null?void 0:j.price)||"$25"})]}),s.jsx("button",{className:e.addToCartButton,children:"Add to Cart"}),s.jsxs("div",{className:e.arrowButtons,children:[s.jsx("button",{className:e.leftArrowButton,onClick:g,children:"←"}),s.jsx("button",{className:e.rightArrowButton,onClick:g,children:"→"})]})]})})]}),m&&s.jsxs("div",{className:`${e.popupContainer} ${m?"":e.exiting}`,children:[s.jsx("h1",{className:e.popupTitle,children:"Customize Your Pants"}),s.jsx("button",{className:e.closeButton,onClick:w,children:"×"}),s.jsx("div",{className:e.optionsContainer,children:B.map(t=>s.jsxs("div",{className:e.optionSection,children:[s.jsx("h2",{className:e.optionTitle,children:t.name}),s.jsx("div",{className:e.imageContainer,children:t.subOptions.map(a=>s.jsx("div",{className:`${e.imageWrapper} ${i[t.name]===a?e.selected:""}`,onClick:()=>$(t.name,a),children:s.jsx("img",{src:`/images_show/${a}`,alt:a,className:e.optionimage})},a))})]},t.name))})]})]})}export{E as default};
