import{r as $,d as t}from"./index-S9ZFpKWr.js";import{$ as v}from"./index-47JtSr82.js";import{$ as m,e as p}from"./index-gF_s75Pt.js";const O=$.createContext(void 0);function D(l){const i=$.useContext(O);return l||i||"ltr"}function P(l){const i=l+"CollectionProvider",[C,x]=v(i),[R,a]=C(i,{collectionRef:{current:null},itemMap:new Map}),M=r=>{const{scope:e,children:s}=r,o=t.useRef(null),c=t.useRef(new Map).current;return t.createElement(R,{scope:e,itemMap:c,collectionRef:o},s)},b=l+"CollectionSlot",E=t.forwardRef((r,e)=>{const{scope:s,children:o}=r,c=a(b,s),n=m(e,c.collectionRef);return t.createElement(p,{ref:n},o)}),I=l+"CollectionItemSlot",d="data-radix-collection-item",S=t.forwardRef((r,e)=>{const{scope:s,children:o,...c}=r,n=t.useRef(null),u=m(e,n),f=a(I,s);return t.useEffect(()=>(f.itemMap.set(n,{ref:n,...c}),()=>void f.itemMap.delete(n))),t.createElement(p,{[d]:"",ref:u},o)});function A(r){const e=a(l+"CollectionConsumer",r);return t.useCallback(()=>{const o=e.collectionRef.current;if(!o)return[];const c=Array.from(o.querySelectorAll(`[${d}]`));return Array.from(e.itemMap.values()).sort((f,T)=>c.indexOf(f.ref.current)-c.indexOf(T.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:M,Slot:E,ItemSlot:S},A,x]}export{P as $,D as a};
